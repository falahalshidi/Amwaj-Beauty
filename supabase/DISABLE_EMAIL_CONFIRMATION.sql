-- ============================================
-- تعطيل التحقق من البريد الإلكتروني في Supabase
-- ============================================
-- هذا الكود يعطل Email Confirmation
-- بعد تطبيقه، يمكن للمستخدمين تسجيل الدخول مباشرة بدون تأكيد البريد
-- ============================================

-- ملاحظة: هذا الإعداد يجب أن يتم من Supabase Dashboard
-- لأن Supabase لا تسمح بتغيير إعدادات Auth من SQL مباشرة

-- ============================================
-- الخطوات اليدوية (يجب تطبيقها من Dashboard):
-- ============================================

/*
1. اذهب إلى Supabase Dashboard: https://supabase.com/dashboard
2. اختر مشروعك
3. اذهب إلى: Authentication → Settings (أو Configuration)
4. ابحث عن: "Enable email confirmations" أو "Confirm email"
5. عطّل الخيار (Toggle OFF)
6. احفظ التغييرات
*/

-- ============================================
-- أو استخدم Supabase Management API:
-- ============================================

-- يمكنك استخدام Supabase Management API لتغيير الإعدادات برمجياً
-- لكن الأسهل هو من Dashboard

-- ============================================
-- بعد تعطيل Email Confirmation:
-- ============================================

-- 1. المستخدمون يمكنهم تسجيل الدخول مباشرة بعد التسجيل
-- 2. لن يتم إرسال رسائل تأكيد البريد
-- 3. جميع المستخدمين الجدد سيكونون active مباشرة

-- ============================================
-- تحديث المستخدمين الموجودين (جعلهم confirmed):
-- ============================================

-- إذا كان لديك مستخدمون موجودون لم يؤكدوا بريدهم، يمكنك تحديثهم:
UPDATE auth.users
SET email_confirmed_at = COALESCE(email_confirmed_at, NOW())
WHERE email_confirmed_at IS NULL;

-- هذا يجعل جميع المستخدمين الذين لم يؤكدوا بريدهم confirmed

-- ============================================
-- تم!
-- ============================================

